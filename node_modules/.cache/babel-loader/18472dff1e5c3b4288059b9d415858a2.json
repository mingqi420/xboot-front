{"remainingRequest":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\babel-loader\\lib\\index.js!D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dove\\project\\xboot\\xboot-front-master\\src\\views\\access\\access.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\src\\views\\access\\access.vue","mtime":1600218271000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENvb2tpZXMgZnJvbSAianMtY29va2llIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhY2Nlc3NfaW5kZXgiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiB7CiAgICAgIHBlcm1UeXBlczogW10sCiAgICAgIHJvbGVzOiBbXSwKICAgICAgZXhhbXBsZTogIjxCdXR0b24gdi1oYXM9XCInYWRkJ1wiPua3u+WKoOaMiemSrjwvQnV0dG9uPiIsCiAgICAgIGV4YW1wbGVSb2xlOiAiPEJ1dHRvbiB2LWhhc1JvbGU9XCInUk9MRV9BRE1JTidcIj7mt7vliqDmjInpkq48L0J1dHRvbj4iLAogICAgICBjb2x1bW5zOiBbewogICAgICAgIHRpdGxlOiAi5aeT5ZCNIiwKICAgICAgICBrZXk6ICJuYW1lIiwKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBwYXJhbXMpIHsKICAgICAgICAgIHJldHVybiBoKCJkaXYiLCBbaCgiSWNvbiIsIHsKICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICB0eXBlOiAiaW9zLXBlcnNvbiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICBtYXJnaW46ICIwIDVweCAzcHggMCIKICAgICAgICAgICAgfQogICAgICAgICAgfSksIGgoInN0cm9uZyIsIHBhcmFtcy5yb3cubmFtZSldKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIuW5tOm+hCIsCiAgICAgICAga2V5OiAiYWdlIgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLlnLDlnYAiLAogICAgICAgIGtleTogImFkZHJlc3MiCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIuaTjeS9nCIsCiAgICAgICAga2V5OiAiYWN0aW9uIiwKICAgICAgICB3aWR0aDogMTUwLAogICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBwYXJhbXMpIHsKICAgICAgICAgIGlmIChfdGhpcy5wZXJtVHlwZXMuaW5jbHVkZXMoImVkaXQiKSkgewogICAgICAgICAgICByZXR1cm4gaCgiZGl2IiwgW2goIkJ1dHRvbiIsIHsKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgICAgICAgICAgc2l6ZTogInNtYWxsIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiAiNXB4IgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHt9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAi57yW6L6RIiksIGgoIkJ1dHRvbiIsIHsKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7fQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgIuWIoOmZpCIpXSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gaCgiZGl2IiwgW2goIkJ1dHRvbiIsIHsKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7fQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgIuWIoOmZpCIpXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9XSwKICAgICAgZGF0YTogW3sKICAgICAgICBuYW1lOiAiSm9obiBCcm93biIsCiAgICAgICAgYWdlOiAxOCwKICAgICAgICBhZGRyZXNzOiAiTmV3IFlvcmsgTm8uIDEgTGFrZSBQYXJrIgogICAgICB9LCB7CiAgICAgICAgbmFtZTogIkppbSBHcmVlbiIsCiAgICAgICAgYWdlOiAyNCwKICAgICAgICBhZGRyZXNzOiAiTG9uZG9uIE5vLiAxIExha2UgUGFyayIKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJKb2UgQmxhY2siLAogICAgICAgIGFnZTogMzAsCiAgICAgICAgYWRkcmVzczogIlN5ZG5leSBOby4gMSBMYWtlIFBhcmsiCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGF2YXRvclBhdGg6IGZ1bmN0aW9uIGF2YXRvclBhdGgoKSB7CiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuYXZhdG9ySW1nUGF0aDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRNZXRhOiBmdW5jdGlvbiBpbml0TWV0YSgpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLm1ldGEucGVybVR5cGVzKSB7CiAgICAgICAgdGhpcy5wZXJtVHlwZXMgPSB0aGlzLiRyb3V0ZS5tZXRhLnBlcm1UeXBlczsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdE1ldGEoKTsKICAgIHRoaXMucm9sZXMgPSB0aGlzLmdldFN0b3JlKCJyb2xlcyIpOwogIH0KfTs="},{"version":3,"sources":["access.vue"],"names":[],"mappings":"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","sourcesContent":["<style lang=\"less\">\n@import \"../../styles/common.less\";\n@import \"./access.less\";\n</style>\n\n<template>\n  <div class=\"access\">\n    <Row>\n      <Col :lg=\"24\" :xl=\"8\" style=\"padding:0 10px 10px 0\">\n        <Card>\n          <p slot=\"title\">\n            <Icon type=\"md-contact\" style=\"margin-right:5px;\"></Icon>当前用户\n          </p>\n          <div class=\"access-user-con access-current-user-con\">\n            <img :src=\"avatorPath\" alt />\n            <p>当前用户本页面拥有按钮权限:</p>\n            <b>{{ permTypes }}</b>\n          </div>\n        </Card>\n      </Col>\n      <Col :lg=\"24\" :xl=\"16\" style=\"padding:0 10px 10px 0\">\n        <Card>\n          <p slot=\"title\">\n            <Icon type=\"md-apps\" style=\"margin-right:5px;\"></Icon>当前用户本页面拥有的按钮操作\n          </p>\n          <div class=\"access-user-con access-change-access-con\">\n            <Col span=\"4\" class=\"buttons\">\n              <Row type=\"flex\" justify=\"center\" align=\"middle\" class=\"access-change-access-con-row\">\n                <Button v-has=\"'add'\" type=\"primary\">添加按钮</Button>\n                <Button v-has=\"'edit'\">编辑按钮</Button>\n                <Button v-has=\"'delete'\" type=\"error\">删除按钮</Button>\n              </Row>\n            </Col>\n            <Col span=\"17\" class=\"padding-left-10\">\n              <Row type=\"flex\" justify=\"center\" align=\"middle\" class=\"access-change-access-con-row\">\n                <p>\n                  您可以通过更换测试用户账号：\n                  <code>test</code>或\n                  <code>test2</code> 密码：\n                  <code>123456</code>，然后观察该页面按钮以及部门相关数据权限的变化\n                  <br />\n                  <br />自定义权限标签：\n                  <code>v-has</code>，示例：\n                  <code>{{example}}</code>\n                  <br />\n                  <br />说明：该Demo大部分页面为演示功能，前端未配置根据权限隐藏按钮\n                </p>\n              </Row>\n            </Col>\n          </div>\n        </Card>\n      </Col>\n    </Row>\n    <Row>\n      <Col :lg=\"24\" :xl=\"14\" style=\"padding:0 10px 10px 0\">\n        <Card>\n          <p slot=\"title\">\n            <Icon type=\"md-grid\" style=\"margin-right:5px;\"></Icon>表格中权限判断\n          </p>\n          <div class=\"content-table\">\n            <Alert show-icon>\n              iView Table组件已支持 slot-scope 用法，建议使用该新用法。\n              以下为Render函数中权限按钮示例\n            </Alert>\n            <Table border :columns=\"columns\" :data=\"data\"></Table>\n          </div>\n        </Card>\n      </Col>\n      <Col :lg=\"24\" :xl=\"10\" style=\"padding:0 10px 10px 0\">\n        <Card>\n          <p slot=\"title\">\n            <Icon type=\"md-contacts\" style=\"margin-right:5px;\"></Icon>通过当前用户角色显示\n          </p>\n          <p slot=\"extra\">无需配置，全局可用</p>\n          <Row class=\"content-role\">\n            <div class=\"access-user-roles\">\n              <p>当前用户拥有角色:</p>\n              <b>{{ roles }}</b>\n            </div>\n            <div class=\"btns\">\n              <Button v-hasRole=\"'ROLE_USER'\" type=\"primary\" style=\"margin-right:5px;\">添加按钮</Button>\n              <Button v-hasRole=\"'ROLE_TEST'\" type=\"error\">删除按钮</Button>\n              <Button v-hasRole=\"'ROLE_ADMIN'\">编辑按钮</Button>\n            </div>\n            <div class=\"role-demo\">\n              自定义角色权限标签：\n              <code>v-hasRole</code>\n              <br />\n              <br />示例：\n              <code>{{exampleRole}}</code>\n            </div>\n          </Row>\n        </Card>\n      </Col>\n    </Row>\n  </div>\n</template>\n\n<script>\nimport Cookies from \"js-cookie\";\nexport default {\n  name: \"access_index\",\n  data() {\n    return {\n      permTypes: [],\n      roles: [],\n      example: \"<Button v-has=\\\"'add'\\\">添加按钮</Button>\",\n      exampleRole: \"<Button v-hasRole=\\\"'ROLE_ADMIN'\\\">添加按钮</Button>\",\n      columns: [\n        {\n          title: \"姓名\",\n          key: \"name\",\n          render: (h, params) => {\n            return h(\"div\", [\n              h(\"Icon\", {\n                props: {\n                  type: \"ios-person\"\n                },\n                style: {\n                  margin: \"0 5px 3px 0\"\n                }\n              }),\n              h(\"strong\", params.row.name)\n            ]);\n          }\n        },\n        {\n          title: \"年龄\",\n          key: \"age\"\n        },\n        {\n          title: \"地址\",\n          key: \"address\"\n        },\n        {\n          title: \"操作\",\n          key: \"action\",\n          width: 150,\n          align: \"center\",\n          render: (h, params) => {\n            if (this.permTypes.includes(\"edit\")) {\n              return h(\"div\", [\n                h(\n                  \"Button\",\n                  {\n                    props: {\n                      type: \"primary\",\n                      size: \"small\"\n                    },\n                    style: {\n                      marginRight: \"5px\"\n                    },\n                    on: {\n                      click: () => {}\n                    }\n                  },\n                  \"编辑\"\n                ),\n                h(\n                  \"Button\",\n                  {\n                    props: {\n                      type: \"error\",\n                      size: \"small\"\n                    },\n                    on: {\n                      click: () => {}\n                    }\n                  },\n                  \"删除\"\n                )\n              ]);\n            } else {\n              return h(\"div\", [\n                h(\n                  \"Button\",\n                  {\n                    props: {\n                      type: \"error\",\n                      size: \"small\"\n                    },\n                    on: {\n                      click: () => {}\n                    }\n                  },\n                  \"删除\"\n                )\n              ]);\n            }\n          }\n        }\n      ],\n      data: [\n        {\n          name: \"John Brown\",\n          age: 18,\n          address: \"New York No. 1 Lake Park\"\n        },\n        {\n          name: \"Jim Green\",\n          age: 24,\n          address: \"London No. 1 Lake Park\"\n        },\n        {\n          name: \"Joe Black\",\n          age: 30,\n          address: \"Sydney No. 1 Lake Park\"\n        }\n      ]\n    };\n  },\n  computed: {\n    avatorPath() {\n      return localStorage.avatorImgPath;\n    }\n  },\n  methods: {\n    initMeta() {\n      if (this.$route.meta.permTypes) {\n        this.permTypes = this.$route.meta.permTypes;\n      }\n    }\n  },\n  created() {\n    this.initMeta();\n    this.roles = this.getStore(\"roles\");\n  }\n};\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/views/access"}]}