{"remainingRequest":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dove\\project\\xboot\\xboot-front-master\\src\\views\\my-components\\xboot\\icon-choose.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\src\\views\\my-components\\xboot\\icon-choose.vue","mtime":1600218271000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGljb25zIH0gZnJvbSAiQC9saWJzL2ljb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImljb25DaG9vc2UiLAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9LAogICAgc2l6ZTogU3RyaW5nLAogICAgcGxhY2Vob2xkZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAi6L6T5YWl5Zu+5qCH5ZCN5oiW6YCJ5oup5Zu+5qCHIgogICAgfSwKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgcmVhZG9ubHk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBtYXhsZW5ndGg6IE51bWJlciwKICAgIGljb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAibWQtaW9uaWMiCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaWNvbk1vZGFsVmlzaWJsZTogZmFsc2UsCiAgICAgIGN1cnJlbnRWYWx1ZTogdGhpcy52YWx1ZSwKICAgICAgaWNvbkRhdGE6IFtdLAogICAgICBrZXk6ICIiLAogICAgICB0aXA6ICLovpPlhaXoi7HmloflhbPplK7or43mkJzntKLvvIzmr5TlpoIgc3VjY2VzcyIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0KCkgewogICAgICBsZXQgcmUgPSBbXTsKICAgICAgaWNvbnMuZm9yRWFjaChlID0+IHsKICAgICAgICBlLmljb25zLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICByZS5wdXNoKGl0ZW0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5pY29uRGF0YSA9IHJlOwogICAgfSwKICAgIGhhbmRsZUlucHV0KCkgewogICAgICBpZiAodGhpcy5rZXkpIHsKICAgICAgICAvLyDmkJzntKIKICAgICAgICBsZXQgcmUgPSBbXTsKICAgICAgICBpY29ucy5mb3JFYWNoKGUgPT4gewogICAgICAgICAgZS50YWdzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIGlmIChpdGVtLmluZGV4T2YodGhpcy5rZXkpID49IDApIHsKICAgICAgICAgICAgICBlLmljb25zLmZvckVhY2gociA9PiB7CiAgICAgICAgICAgICAgICByZS5wdXNoKHIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmljb25EYXRhID0gcmU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbml0KCk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVGb2N1cygpIHsKICAgICAgaWYgKCF0aGlzLmtleSkgewogICAgICAgIHRoaXMudGlwID0gIiI7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVCbHVyKCkgewogICAgICBpZiAoIXRoaXMua2V5KSB7CiAgICAgICAgdGhpcy50aXAgPSAi6L6T5YWl6Iux5paH5YWz6ZSu6K+N5pCc57Si77yM5q+U5aaCIHN1Y2Nlc3MiOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlQ2hhbmdlKHYpIHsKICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCB0aGlzLmN1cnJlbnRWYWx1ZSk7CiAgICAgIHRoaXMuJGVtaXQoIm9uLWNoYW5nZSIsIHRoaXMuY3VycmVudFZhbHVlKTsKICAgIH0sCiAgICBzZXRDdXJyZW50VmFsdWUodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09IHRoaXMuY3VycmVudFZhbHVlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdmFsdWU7CiAgICB9LAogICAgaGFubGVDaG9vc2UodikgewogICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHY7CiAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgdGhpcy5jdXJyZW50VmFsdWUpOwogICAgICB0aGlzLiRlbWl0KCJvbi1jaGFuZ2UiLCB0aGlzLmN1cnJlbnRWYWx1ZSk7CiAgICAgIHRoaXMuaWNvbk1vZGFsVmlzaWJsZSA9IGZhbHNlOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlKHZhbCkgewogICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh2YWwpOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0KfTsK"},{"version":3,"sources":["icon-choose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"icon-choose.vue","sourceRoot":"src/views/my-components/xboot","sourcesContent":["<template>\n  <div>\n    <div style=\"display:flex\">\n      <Input\n        v-model=\"currentValue\"\n        @on-change=\"handleChange\"\n        :placeholder=\"placeholder\"\n        :size=\"size\"\n        :disabled=\"disabled\"\n        :readonly=\"readonly\"\n        :maxlength=\"maxlength\"\n        :icon=\"currentValue\"\n      />\n      <Button\n        @click=\"iconModalVisible=true\"\n        :size=\"size\"\n        :disabled=\"disabled\"\n        :icon=\"icon\"\n        style=\"margin-left:10px\"\n      >选择图标</Button>\n    </div>\n\n    <Modal\n      title=\"选择图标\"\n      v-model=\"iconModalVisible\"\n      :width=\"950\"\n      :styles=\"{top: '30px'}\"\n      footer-hide\n      :z-index=\"1060\"\n    >\n      <div class=\"icon-search\">\n        <input\n          type=\"text\"\n          v-model=\"key\"\n          :placeholder=\"tip\"\n          @input=\"handleInput\"\n          @focus=\"handleFocus\"\n          @blur=\"handleBlur\"\n        >\n      </div>\n      <div class=\"icon-block icon-bar\">\n        <div class=\"icon-wrap\" v-for=\"(item, i) in iconData\" :key=\"i\" @click=\"hanleChoose(item)\">\n          <div class=\"icons-item\">\n            <Icon :type=\"item\" style=\"font-size: 32px;\"/>\n            <p>{{item}}</p>\n          </div>\n        </div>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { icons } from \"@/libs/icon\";\nexport default {\n  name: \"iconChoose\",\n  props: {\n    value: {\n      type: String,\n      default: \"\"\n    },\n    size: String,\n    placeholder: {\n      type: String,\n      default: \"输入图标名或选择图标\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    maxlength: Number,\n    icon: {\n      type: String,\n      default: \"md-ionic\"\n    }\n  },\n  data() {\n    return {\n      iconModalVisible: false,\n      currentValue: this.value,\n      iconData: [],\n      key: \"\",\n      tip: \"输入英文关键词搜索，比如 success\"\n    };\n  },\n  methods: {\n    init() {\n      let re = [];\n      icons.forEach(e => {\n        e.icons.forEach(item => {\n          re.push(item);\n        });\n      });\n      this.iconData = re;\n    },\n    handleInput() {\n      if (this.key) {\n        // 搜索\n        let re = [];\n        icons.forEach(e => {\n          e.tags.forEach(item => {\n            if (item.indexOf(this.key) >= 0) {\n              e.icons.forEach(r => {\n                re.push(r);\n              });\n            }\n          });\n        });\n        this.iconData = re;\n      } else {\n        this.init();\n      }\n    },\n    handleFocus() {\n      if (!this.key) {\n        this.tip = \"\";\n      }\n    },\n    handleBlur() {\n      if (!this.key) {\n        this.tip = \"输入英文关键词搜索，比如 success\";\n      }\n    },\n    handleChange(v) {\n      this.$emit(\"input\", this.currentValue);\n      this.$emit(\"on-change\", this.currentValue);\n    },\n    setCurrentValue(value) {\n      if (value == this.currentValue) {\n        return;\n      }\n      this.currentValue = value;\n    },\n    hanleChoose(v) {\n      this.currentValue = v;\n      this.$emit(\"input\", this.currentValue);\n      this.$emit(\"on-change\", this.currentValue);\n      this.iconModalVisible = false;\n    }\n  },\n  watch: {\n    value(val) {\n      this.setCurrentValue(val);\n    }\n  },\n  created() {\n    this.init();\n  }\n};\n</script>\n\n<style lang=\"less\">\n.icon-search {\n  position: relative;\n  margin: 20px auto 30px;\n  text-align: center;\n  input {\n    width: 500px;\n    box-sizing: border-box;\n    border: 0;\n    border-radius: 4px;\n    background: #f5f5f5;\n    text-align: center;\n    font-size: 14px;\n    outline: none;\n    margin: 0 auto;\n    padding: 8px 0;\n  }\n}\n.icon-block {\n  display: flex;\n  flex-wrap: wrap;\n  max-height: 500px;\n  overflow: auto;\n}\n.icon-bar {\n  overflow: auto;\n  overflow-x: hidden;\n}\n.icon-bar::-webkit-scrollbar {\n  width: 6px;\n  height: 6px;\n}\n\n.icon-bar::-webkit-scrollbar-thumb {\n  border-radius: 3px;\n  background: #c3c3c3;\n}\n\n.icon-bar::-webkit-scrollbar-track {\n  background: #fff;\n}\n.icon-wrap {\n  :hover {\n    color: #1890ff;\n    transition: color 0.3s;\n  }\n}\n.icons-item {\n  margin: 6px 6px 6px 0;\n  width: 145px;\n  text-align: center;\n  list-style: none;\n  cursor: pointer;\n  height: 100px;\n  color: #5c6b77;\n  transition: all 0.2s ease;\n  position: relative;\n  padding-top: 10px;\n  p {\n    padding-top: 15px;\n    margin: 5px;\n    font-size: 14px;\n  }\n}\n</style>\n\n"]}]}