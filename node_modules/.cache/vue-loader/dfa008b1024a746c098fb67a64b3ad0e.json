{"remainingRequest":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dove\\project\\xboot\\xboot-front-master\\src\\views\\access\\access.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\src\\views\\access\\access.vue","mtime":1600218271000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBpbXBvcnQgIi4uLy4uL3N0eWxlcy9jb21tb24ubGVzcyI7CkBpbXBvcnQgIi4vYWNjZXNzLmxlc3MiOwo="},{"version":3,"sources":["access.vue"],"names":[],"mappings":";AACA;AACA","file":"access.vue","sourceRoot":"src/views/access","sourcesContent":["<style lang=\"less\">\n@import \"../../styles/common.less\";\n@import \"./access.less\";\n</style>\n\n<template>\n  <div class=\"access\">\n    <Row>\n      <Col :lg=\"24\" :xl=\"8\" style=\"padding:0 10px 10px 0\">\n        <Card>\n          <p slot=\"title\">\n            <Icon type=\"md-contact\" style=\"margin-right:5px;\"></Icon>当前用户\n          </p>\n          <div class=\"access-user-con access-current-user-con\">\n            <img :src=\"avatorPath\" alt />\n            <p>当前用户本页面拥有按钮权限:</p>\n            <b>{{ permTypes }}</b>\n          </div>\n        </Card>\n      </Col>\n      <Col :lg=\"24\" :xl=\"16\" style=\"padding:0 10px 10px 0\">\n        <Card>\n          <p slot=\"title\">\n            <Icon type=\"md-apps\" style=\"margin-right:5px;\"></Icon>当前用户本页面拥有的按钮操作\n          </p>\n          <div class=\"access-user-con access-change-access-con\">\n            <Col span=\"4\" class=\"buttons\">\n              <Row type=\"flex\" justify=\"center\" align=\"middle\" class=\"access-change-access-con-row\">\n                <Button v-has=\"'add'\" type=\"primary\">添加按钮</Button>\n                <Button v-has=\"'edit'\">编辑按钮</Button>\n                <Button v-has=\"'delete'\" type=\"error\">删除按钮</Button>\n              </Row>\n            </Col>\n            <Col span=\"17\" class=\"padding-left-10\">\n              <Row type=\"flex\" justify=\"center\" align=\"middle\" class=\"access-change-access-con-row\">\n                <p>\n                  您可以通过更换测试用户账号：\n                  <code>test</code>或\n                  <code>test2</code> 密码：\n                  <code>123456</code>，然后观察该页面按钮以及部门相关数据权限的变化\n                  <br />\n                  <br />自定义权限标签：\n                  <code>v-has</code>，示例：\n                  <code>{{example}}</code>\n                  <br />\n                  <br />说明：该Demo大部分页面为演示功能，前端未配置根据权限隐藏按钮\n                </p>\n              </Row>\n            </Col>\n          </div>\n        </Card>\n      </Col>\n    </Row>\n    <Row>\n      <Col :lg=\"24\" :xl=\"14\" style=\"padding:0 10px 10px 0\">\n        <Card>\n          <p slot=\"title\">\n            <Icon type=\"md-grid\" style=\"margin-right:5px;\"></Icon>表格中权限判断\n          </p>\n          <div class=\"content-table\">\n            <Alert show-icon>\n              iView Table组件已支持 slot-scope 用法，建议使用该新用法。\n              以下为Render函数中权限按钮示例\n            </Alert>\n            <Table border :columns=\"columns\" :data=\"data\"></Table>\n          </div>\n        </Card>\n      </Col>\n      <Col :lg=\"24\" :xl=\"10\" style=\"padding:0 10px 10px 0\">\n        <Card>\n          <p slot=\"title\">\n            <Icon type=\"md-contacts\" style=\"margin-right:5px;\"></Icon>通过当前用户角色显示\n          </p>\n          <p slot=\"extra\">无需配置，全局可用</p>\n          <Row class=\"content-role\">\n            <div class=\"access-user-roles\">\n              <p>当前用户拥有角色:</p>\n              <b>{{ roles }}</b>\n            </div>\n            <div class=\"btns\">\n              <Button v-hasRole=\"'ROLE_USER'\" type=\"primary\" style=\"margin-right:5px;\">添加按钮</Button>\n              <Button v-hasRole=\"'ROLE_TEST'\" type=\"error\">删除按钮</Button>\n              <Button v-hasRole=\"'ROLE_ADMIN'\">编辑按钮</Button>\n            </div>\n            <div class=\"role-demo\">\n              自定义角色权限标签：\n              <code>v-hasRole</code>\n              <br />\n              <br />示例：\n              <code>{{exampleRole}}</code>\n            </div>\n          </Row>\n        </Card>\n      </Col>\n    </Row>\n  </div>\n</template>\n\n<script>\nimport Cookies from \"js-cookie\";\nexport default {\n  name: \"access_index\",\n  data() {\n    return {\n      permTypes: [],\n      roles: [],\n      example: \"<Button v-has=\\\"'add'\\\">添加按钮</Button>\",\n      exampleRole: \"<Button v-hasRole=\\\"'ROLE_ADMIN'\\\">添加按钮</Button>\",\n      columns: [\n        {\n          title: \"姓名\",\n          key: \"name\",\n          render: (h, params) => {\n            return h(\"div\", [\n              h(\"Icon\", {\n                props: {\n                  type: \"ios-person\"\n                },\n                style: {\n                  margin: \"0 5px 3px 0\"\n                }\n              }),\n              h(\"strong\", params.row.name)\n            ]);\n          }\n        },\n        {\n          title: \"年龄\",\n          key: \"age\"\n        },\n        {\n          title: \"地址\",\n          key: \"address\"\n        },\n        {\n          title: \"操作\",\n          key: \"action\",\n          width: 150,\n          align: \"center\",\n          render: (h, params) => {\n            if (this.permTypes.includes(\"edit\")) {\n              return h(\"div\", [\n                h(\n                  \"Button\",\n                  {\n                    props: {\n                      type: \"primary\",\n                      size: \"small\"\n                    },\n                    style: {\n                      marginRight: \"5px\"\n                    },\n                    on: {\n                      click: () => {}\n                    }\n                  },\n                  \"编辑\"\n                ),\n                h(\n                  \"Button\",\n                  {\n                    props: {\n                      type: \"error\",\n                      size: \"small\"\n                    },\n                    on: {\n                      click: () => {}\n                    }\n                  },\n                  \"删除\"\n                )\n              ]);\n            } else {\n              return h(\"div\", [\n                h(\n                  \"Button\",\n                  {\n                    props: {\n                      type: \"error\",\n                      size: \"small\"\n                    },\n                    on: {\n                      click: () => {}\n                    }\n                  },\n                  \"删除\"\n                )\n              ]);\n            }\n          }\n        }\n      ],\n      data: [\n        {\n          name: \"John Brown\",\n          age: 18,\n          address: \"New York No. 1 Lake Park\"\n        },\n        {\n          name: \"Jim Green\",\n          age: 24,\n          address: \"London No. 1 Lake Park\"\n        },\n        {\n          name: \"Joe Black\",\n          age: 30,\n          address: \"Sydney No. 1 Lake Park\"\n        }\n      ]\n    };\n  },\n  computed: {\n    avatorPath() {\n      return localStorage.avatorImgPath;\n    }\n  },\n  methods: {\n    initMeta() {\n      if (this.$route.meta.permTypes) {\n        this.permTypes = this.$route.meta.permTypes;\n      }\n    }\n  },\n  created() {\n    this.initMeta();\n    this.roles = this.getStore(\"roles\");\n  }\n};\n</script>\n\n<style>\n</style>\n"]}]}