{"remainingRequest":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dove\\project\\xboot\\xboot-front-master\\src\\views\\my-components\\xboot\\count-down-button.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\src\\views\\my-components\\xboot\\count-down-button.vue","mtime":1600218271000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaWNvbkNob29zZSIsCiAgcHJvcHM6IHsKICAgIHRleHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAi5o+Q5LqkIgogICAgfSwKICAgIGF1dG9Db3VudERvd246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGNvdW50VGltZTogewogICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgICBkZWZhdWx0OiA2MAogICAgfSwKICAgIHN1ZmZpeFRleHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAi5ZCO6YeN6K+VIgogICAgfSwKICAgIHR5cGU6IFN0cmluZywKICAgIHNpemU6IFN0cmluZywKICAgIGxvYWRpbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBnaG9zdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgaWNvbjogU3RyaW5nLAogICAgc2hhcGU6IFN0cmluZywKICAgIGxvbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBidXR0b25UZXh0OiB0aGlzLnRleHQsCiAgICAgIGNvdW50OiBOdW1iZXIodGhpcy5jb3VudFRpbWUpLAogICAgICBjbGlja2VkOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQoKSB7fSwKICAgIGhhbmRsZUNsaWNrKCkgewogICAgICBpZiAodGhpcy5hdXRvQ291bnREb3duKSB7CiAgICAgICAgdGhpcy5jbGlja2VkID0gdHJ1ZTsKICAgICAgICB0aGlzLmNvdW50RG93bigpOwogICAgICB9CiAgICAgIHRoaXMuJGVtaXQoIm9uLWNsaWNrIiwgdHJ1ZSk7CiAgICB9LAogICAgc3RhcnRDb3VudERvd24oKSB7CiAgICAgIHRoaXMuY2xpY2tlZCA9IHRydWU7CiAgICAgIHRoaXMuY291bnREb3duKCk7CiAgICB9LAogICAgY291bnREb3duKCkgewogICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgIGlmICh0aGlzLmNvdW50ID09IDApIHsKICAgICAgICB0aGlzLmNsaWNrZWQgPSBmYWxzZTsKICAgICAgICB0aGlzLmNvdW50ID0gdGhpcy5jb3VudFRpbWU7CiAgICAgICAgdGhpcy5idXR0b25UZXh0ID0gdGhpcy50ZXh0OwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmJ1dHRvblRleHQgPSB0aGlzLmNvdW50ICsgIiDnp5IiICsgdGhpcy5zdWZmaXhUZXh0OwogICAgICAgIHRoaXMuY291bnQtLTsKICAgICAgfQogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHRoYXQuY291bnREb3duKCk7CiAgICAgIH0sIDEwMDApOwogICAgfSwKICAgIHNldFRleHQodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmJ1dHRvblRleHQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5idXR0b25UZXh0ID0gdmFsdWU7CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIHRleHQodmFsKSB7CiAgICAgIHRoaXMuc2V0VGV4dCh2YWwpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0KfTsK"},{"version":3,"sources":["count-down-button.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"count-down-button.vue","sourceRoot":"src/views/my-components/xboot","sourcesContent":["<template>\n  <div>\n    <Button\n      :countTime=\"countTime\"\n      :loading=\"loading\"\n      :type=\"type\"\n      :size=\"size\"\n      :ghost=\"ghost\"\n      :disabled=\"disabled||clicked\"\n      :icon=\"icon\"\n      :shape=\"shape\"\n      :long=\"long\"\n      @click=\"handleClick\"\n    >{{buttonText}}</Button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"iconChoose\",\n  props: {\n    text: {\n      type: String,\n      default: \"提交\"\n    },\n    autoCountDown: {\n      type: Boolean,\n      default: true\n    },\n    countTime: {\n      type: [Number, String],\n      default: 60\n    },\n    suffixText: {\n      type: String,\n      default: \"后重试\"\n    },\n    type: String,\n    size: String,\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    ghost: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    icon: String,\n    shape: String,\n    long: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      buttonText: this.text,\n      count: Number(this.countTime),\n      clicked: false\n    };\n  },\n  methods: {\n    init() {},\n    handleClick() {\n      if (this.autoCountDown) {\n        this.clicked = true;\n        this.countDown();\n      }\n      this.$emit(\"on-click\", true);\n    },\n    startCountDown() {\n      this.clicked = true;\n      this.countDown();\n    },\n    countDown() {\n      let that = this;\n      if (this.count == 0) {\n        this.clicked = false;\n        this.count = this.countTime;\n        this.buttonText = this.text;\n        return;\n      } else {\n        this.buttonText = this.count + \" 秒\" + this.suffixText;\n        this.count--;\n      }\n      setTimeout(function() {\n        that.countDown();\n      }, 1000);\n    },\n    setText(value) {\n      if (value === this.buttonText) {\n        return;\n      }\n      this.buttonText = value;\n    },\n  },\n  watch: {\n    text(val) {\n      this.setText(val);\n    }\n  },\n  mounted() {\n    this.init();\n  }\n};\n</script>\n\n<style lang=\"less\">\n</style>\n\n"]}]}