{"remainingRequest":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dove\\project\\xboot\\xboot-front-master\\src\\views\\my-components\\xboot\\user-choose.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\src\\views\\my-components\\xboot\\user-choose.vue","mtime":1600218271000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFVzZXJMaXN0RGF0YSB9IGZyb20gIkAvYXBpL2luZGV4IjsKaW1wb3J0IGRlcGFydG1lbnRDaG9vc2UgZnJvbSAiLi9kZXBhcnRtZW50LWNob29zZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidXNlckNob29zZSIsCiAgY29tcG9uZW50czogewogICAgZGVwYXJ0bWVudENob29zZQogIH0sCiAgcHJvcHM6IHsKICAgIHRleHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAi6YCJ5oup55So5oi3IgogICAgfSwKICAgIGljb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAibWQtcGVyc29uLWFkZCIKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyTG9hZGluZzogdHJ1ZSwKICAgICAgdXNlck1vZGFsVmlzaWJsZTogZmFsc2UsCiAgICAgIHNlbGVjdFVzZXJzOiBbXSwKICAgICAgc2VhcmNoVXNlckZvcm06IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbmlja25hbWU6ICIiLAogICAgICAgIHR5cGU6ICIiLAogICAgICAgIHN0YXR1czogIiIsCiAgICAgICAgcGFnZU51bWJlcjogMSwgLy8g5b2T5YmN6aG15pWwCiAgICAgICAgcGFnZVNpemU6IDEwLCAvLyDpobXpnaLlpKflsI8KICAgICAgICBzb3J0OiAiY3JlYXRlVGltZSIsIC8vIOm7mOiupOaOkuW6j+Wtl+autQogICAgICAgIG9yZGVyOiAiZGVzYyIgLy8g6buY6K6k5o6S5bqP5pa55byPCiAgICAgIH0sCiAgICAgIHVzZXJDb2x1bW5zOiBbCiAgICAgICAgewogICAgICAgICAgdHlwZTogImluZGV4IiwKICAgICAgICAgIHdpZHRoOiA2MCwKICAgICAgICAgIGFsaWduOiAiY2VudGVyIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICLnlKjmiLflkI0iLAogICAgICAgICAga2V5OiAibmlja25hbWUiLAogICAgICAgICAgbWluV2lkdGg6IDEzMCwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIueZu+W9lei0puWPtyIsCiAgICAgICAgICBrZXk6ICJ1c2VybmFtZSIsCiAgICAgICAgICBtaW5XaWR0aDogMTMwLAogICAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi5aS05YOPIiwKICAgICAgICAgIGtleTogImF2YXRhciIsCiAgICAgICAgICB3aWR0aDogODAsCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsKICAgICAgICAgICAgcmV0dXJuIGgoIkF2YXRhciIsIHsKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgc3JjOiBwYXJhbXMucm93LmF2YXRhcgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIuaJgOWxnumDqOmXqCIsCiAgICAgICAgICBrZXk6ICJkZXBhcnRtZW50VGl0bGUiLAogICAgICAgICAgd2lkdGg6IDEyMAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICLmiYvmnLoiLAogICAgICAgICAga2V5OiAibW9iaWxlIiwKICAgICAgICAgIHdpZHRoOiAxMjUsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICLpgq7nrrEiLAogICAgICAgICAga2V5OiAiZW1haWwiLAogICAgICAgICAgd2lkdGg6IDE4MCwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIuaAp+WIqyIsCiAgICAgICAgICBrZXk6ICJzZXgiLAogICAgICAgICAgd2lkdGg6IDcwLAogICAgICAgICAgYWxpZ246ICJjZW50ZXIiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIuWIm+W7uuaXtumXtCIsCiAgICAgICAgICBrZXk6ICJjcmVhdGVUaW1lIiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgc29ydFR5cGU6ICJkZXNjIiwKICAgICAgICAgIHdpZHRoOiAxNzAKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi5pON5L2cIiwKICAgICAgICAgIGtleTogImFjdGlvbiIsCiAgICAgICAgICB3aWR0aDogMTMwLAogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgICAgZml4ZWQ6ICJyaWdodCIsCiAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsKICAgICAgICAgICAgcmV0dXJuIGgoImRpdiIsIFsKICAgICAgICAgICAgICBoKAogICAgICAgICAgICAgICAgIkJ1dHRvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaG9vc2VVc2VyKHBhcmFtcy5yb3cpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICLmt7vliqDor6XnlKjmiLciCiAgICAgICAgICAgICAgKQogICAgICAgICAgICBdKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIF0sCiAgICAgIHVzZXJEYXRhOiBbXSwKICAgICAgdG90YWxVc2VyOiAwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU2VsZWN0RGVwKHYpIHsKICAgICAgdGhpcy5zZWFyY2hVc2VyRm9ybS5kZXBhcnRtZW50SWQgPSB2OwogICAgfSwKICAgIGNoYW5nZVVzZXJQYWdlKHYpIHsKICAgICAgdGhpcy5zZWFyY2hVc2VyRm9ybS5wYWdlTnVtYmVyID0gdjsKICAgICAgdGhpcy5nZXRVc2VyRGF0YUxpc3QoKTsKICAgIH0sCiAgICBjaGFuZ2VVc2VyUGFnZVNpemUodikgewogICAgICB0aGlzLnNlYXJjaFVzZXJGb3JtLnBhZ2VTaXplID0gdjsKICAgICAgdGhpcy5nZXRVc2VyRGF0YUxpc3QoKTsKICAgIH0sCiAgICBnZXRVc2VyRGF0YUxpc3QoKSB7CiAgICAgIHRoaXMudXNlckxvYWRpbmcgPSB0cnVlOwogICAgICBnZXRVc2VyTGlzdERhdGEodGhpcy5zZWFyY2hVc2VyRm9ybSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMudXNlckxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMudXNlckRhdGEgPSByZXMucmVzdWx0LmNvbnRlbnQ7CiAgICAgICAgICB0aGlzLnRvdGFsVXNlciA9IHJlcy5yZXN1bHQudG90YWxFbGVtZW50czsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNlYXJjaFVzZXIoKSB7CiAgICAgIHRoaXMuc2VhcmNoVXNlckZvcm0ucGFnZU51bWJlciA9IDE7CiAgICAgIHRoaXMuc2VhcmNoVXNlckZvcm0ucGFnZVNpemUgPSAxMDsKICAgICAgdGhpcy5nZXRVc2VyRGF0YUxpc3QoKTsKICAgIH0sCiAgICBoYW5kbGVSZXNldFVzZXIoKSB7CiAgICAgIHRoaXMuJHJlZnMuc2VhcmNoVXNlckZvcm0ucmVzZXRGaWVsZHMoKTsKICAgICAgdGhpcy5zZWFyY2hVc2VyRm9ybS5wYWdlTnVtYmVyID0gMTsKICAgICAgdGhpcy5zZWFyY2hVc2VyRm9ybS5wYWdlU2l6ZSA9IDEwOwogICAgICB0aGlzLiRyZWZzLmRlcC5jbGVhclNlbGVjdCgpOwogICAgICB0aGlzLnNlYXJjaFVzZXJGb3JtLmRlcGFydG1lbnRJZCA9ICIiOwogICAgICAvLyDph43mlrDliqDovb3mlbDmja4KICAgICAgdGhpcy5nZXRVc2VyRGF0YUxpc3QoKTsKICAgIH0sCiAgICBzZXREYXRhKHYpIHsKICAgICAgdGhpcy5zZWxlY3RVc2VycyA9IHY7CiAgICAgIHRoaXMuJGVtaXQoIm9uLWNoYW5nZSIsIHRoaXMuc2VsZWN0VXNlcnMpOwogICAgfSwKICAgIGNob29zZVVzZXIodikgewogICAgICAvLyDljrvph40KICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICBsZXQgZmxhZyA9IHRydWU7CiAgICAgIHRoaXMuc2VsZWN0VXNlcnMuZm9yRWFjaChlID0+IHsKICAgICAgICBpZiAodi5pZCA9PSBlLmlkKSB7CiAgICAgICAgICB0aGF0LiRNZXNzYWdlLndhcm5pbmcoIuW3sue7j+a3u+WKoOi/h+WVpu+8jOivt+WLv+mHjeWkjemAieaLqSIpOwogICAgICAgICAgZmxhZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmIChmbGFnKSB7CiAgICAgICAgbGV0IHUgPSB7CiAgICAgICAgICBpZDogdi5pZCwKICAgICAgICAgIHVzZXJuYW1lOiB2LnVzZXJuYW1lLAogICAgICAgICAgbmlja25hbWU6IHYubmlja25hbWUKICAgICAgICB9OwogICAgICAgIHRoaXMuc2VsZWN0VXNlcnMucHVzaCh1KTsKICAgICAgICB0aGlzLiRlbWl0KCJvbi1jaGFuZ2UiLCB0aGlzLnNlbGVjdFVzZXJzKTsKICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoYOa3u+WKoOeUqOaItyAke3Yubmlja25hbWV9IOaIkOWKn2ApOwogICAgICB9CiAgICB9LAogICAgY2xlYXJTZWxlY3REYXRhKCkgewogICAgICB0aGlzLnNlbGVjdFVzZXJzID0gW107CiAgICAgIHRoaXMuJGVtaXQoIm9uLWNoYW5nZSIsIHRoaXMuc2VsZWN0VXNlcnMpOwogICAgfSwKICAgIGhhbmRsZUNhbmNlbFVzZXIoZSwgaWQpIHsKICAgICAgLy8g5Yig6Zmk5omA6YCJ55So5oi3CiAgICAgIHRoaXMuc2VsZWN0VXNlcnMgPSB0aGlzLnNlbGVjdFVzZXJzLmZpbHRlcihlID0+IHsKICAgICAgICByZXR1cm4gZS5pZCAhPSBpZDsKICAgICAgfSk7CiAgICAgIHRoaXMuJGVtaXQoIm9uLWNoYW5nZSIsIHRoaXMuc2VsZWN0VXNlcnMpOwogICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaJgOmAieeUqOaIt+aIkOWKnyIpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlckRhdGFMaXN0KCk7CiAgfQp9Owo="},{"version":3,"sources":["user-choose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user-choose.vue","sourceRoot":"src/views/my-components/xboot","sourcesContent":["<template>\n  <div class=\"user-choose\">\n    <Button @click=\"userModalVisible=true\" :icon=\"icon\">{{text}}</Button>\n    <span @click=\"clearSelectData\" class=\"clear\">清空已选</span>\n    <Collapse simple class=\"collapse\">\n      <Panel name=\"1\">\n        已选择\n        <span class=\"select-count\">{{selectUsers.length}}</span> 人\n        <p slot=\"content\">\n          <Tag\n            v-for=\"(item, i) in selectUsers\"\n            :key=\"i\"\n            :name=\"item.id\"\n            color=\"default\"\n            closable\n            @on-close=\"handleCancelUser\"\n          >\n            <Tooltip placement=\"top\" :content=\"item.username\">{{item.nickname}}</Tooltip>\n          </Tag>\n        </p>\n      </Panel>\n    </Collapse>\n    <Drawer title=\"选择用户\" closable v-model=\"userModalVisible\" width=\"800\" draggable>\n      <Form ref=\"searchUserForm\" :model=\"searchUserForm\" inline :label-width=\"55\">\n        <Form-item label=\"用户名\" prop=\"nickname\">\n          <Input\n            type=\"text\"\n            v-model=\"searchUserForm.nickname\"\n            clearable\n            placeholder=\"请输入用户名\"\n            style=\"width: 200px\"\n          />\n        </Form-item>\n        <Form-item label=\"部门\" prop=\"department\">\n          <department-choose @on-change=\"handleSelectDep\" style=\"width: 200px\" ref=\"dep\"></department-choose>\n        </Form-item>\n        <Form-item style=\"margin-left:-35px;\" class=\"br\">\n          <Button @click=\"handleSearchUser\" type=\"primary\" icon=\"ios-search\">搜索</Button>\n          <Button @click=\"handleResetUser\">重置</Button>\n        </Form-item>\n      </Form>\n      <Alert show-icon>\n        已选择\n        <span class=\"select-count\">{{selectUsers.length}}</span> 项\n        <a style=\"margin-left: 10px;\" @click=\"clearSelectData\">清空已选</a>\n      </Alert>\n      <Table\n        :loading=\"userLoading\"\n        border\n        :columns=\"userColumns\"\n        :data=\"userData\"\n        style=\"margin: 2vh 0;\"\n      ></Table>\n      <Row type=\"flex\" justify=\"end\">\n        <Page\n          :current=\"searchUserForm.pageNumber\"\n          :total=\"totalUser\"\n          :page-size=\"searchUserForm.pageSize\"\n          @on-change=\"changeUserPage\"\n          @on-page-size-change=\"changeUserPageSize\"\n          :page-size-opts=\"[10,20,50]\"\n          size=\"small\"\n          show-total\n          show-elevator\n          show-sizer\n          transfer\n        ></Page>\n      </Row>\n    </Drawer>\n  </div>\n</template>\n\n<script>\nimport { getUserListData } from \"@/api/index\";\nimport departmentChoose from \"./department-choose\";\nexport default {\n  name: \"userChoose\",\n  components: {\n    departmentChoose\n  },\n  props: {\n    text: {\n      type: String,\n      default: \"选择用户\"\n    },\n    icon: {\n      type: String,\n      default: \"md-person-add\"\n    }\n  },\n  data() {\n    return {\n      userLoading: true,\n      userModalVisible: false,\n      selectUsers: [],\n      searchUserForm: {\n        id: \"\",\n        nickname: \"\",\n        type: \"\",\n        status: \"\",\n        pageNumber: 1, // 当前页数\n        pageSize: 10, // 页面大小\n        sort: \"createTime\", // 默认排序字段\n        order: \"desc\" // 默认排序方式\n      },\n      userColumns: [\n        {\n          type: \"index\",\n          width: 60,\n          align: \"center\"\n        },\n        {\n          title: \"用户名\",\n          key: \"nickname\",\n          minWidth: 130,\n          sortable: true\n        },\n        {\n          title: \"登录账号\",\n          key: \"username\",\n          minWidth: 130,\n          sortable: true\n        },\n        {\n          title: \"头像\",\n          key: \"avatar\",\n          width: 80,\n          align: \"center\",\n          render: (h, params) => {\n            return h(\"Avatar\", {\n              props: {\n                src: params.row.avatar\n              }\n            });\n          }\n        },\n        {\n          title: \"所属部门\",\n          key: \"departmentTitle\",\n          width: 120\n        },\n        {\n          title: \"手机\",\n          key: \"mobile\",\n          width: 125,\n          sortable: true\n        },\n        {\n          title: \"邮箱\",\n          key: \"email\",\n          width: 180,\n          sortable: true\n        },\n        {\n          title: \"性别\",\n          key: \"sex\",\n          width: 70,\n          align: \"center\"\n        },\n        {\n          title: \"创建时间\",\n          key: \"createTime\",\n          sortable: true,\n          sortType: \"desc\",\n          width: 170\n        },\n        {\n          title: \"操作\",\n          key: \"action\",\n          width: 130,\n          align: \"center\",\n          fixed: \"right\",\n          render: (h, params) => {\n            return h(\"div\", [\n              h(\n                \"Button\",\n                {\n                  props: {\n                    type: \"info\",\n                    size: \"small\"\n                  },\n                  on: {\n                    click: () => {\n                      this.chooseUser(params.row);\n                    }\n                  }\n                },\n                \"添加该用户\"\n              )\n            ]);\n          }\n        }\n      ],\n      userData: [],\n      totalUser: 0\n    };\n  },\n  methods: {\n    handleSelectDep(v) {\n      this.searchUserForm.departmentId = v;\n    },\n    changeUserPage(v) {\n      this.searchUserForm.pageNumber = v;\n      this.getUserDataList();\n    },\n    changeUserPageSize(v) {\n      this.searchUserForm.pageSize = v;\n      this.getUserDataList();\n    },\n    getUserDataList() {\n      this.userLoading = true;\n      getUserListData(this.searchUserForm).then(res => {\n        this.userLoading = false;\n        if (res.success) {\n          this.userData = res.result.content;\n          this.totalUser = res.result.totalElements;\n        }\n      });\n    },\n    handleSearchUser() {\n      this.searchUserForm.pageNumber = 1;\n      this.searchUserForm.pageSize = 10;\n      this.getUserDataList();\n    },\n    handleResetUser() {\n      this.$refs.searchUserForm.resetFields();\n      this.searchUserForm.pageNumber = 1;\n      this.searchUserForm.pageSize = 10;\n      this.$refs.dep.clearSelect();\n      this.searchUserForm.departmentId = \"\";\n      // 重新加载数据\n      this.getUserDataList();\n    },\n    setData(v) {\n      this.selectUsers = v;\n      this.$emit(\"on-change\", this.selectUsers);\n    },\n    chooseUser(v) {\n      // 去重\n      let that = this;\n      let flag = true;\n      this.selectUsers.forEach(e => {\n        if (v.id == e.id) {\n          that.$Message.warning(\"已经添加过啦，请勿重复选择\");\n          flag = false;\n        }\n      });\n      if (flag) {\n        let u = {\n          id: v.id,\n          username: v.username,\n          nickname: v.nickname\n        };\n        this.selectUsers.push(u);\n        this.$emit(\"on-change\", this.selectUsers);\n        this.$Message.success(`添加用户 ${v.nickname} 成功`);\n      }\n    },\n    clearSelectData() {\n      this.selectUsers = [];\n      this.$emit(\"on-change\", this.selectUsers);\n    },\n    handleCancelUser(e, id) {\n      // 删除所选用户\n      this.selectUsers = this.selectUsers.filter(e => {\n        return e.id != id;\n      });\n      this.$emit(\"on-change\", this.selectUsers);\n      this.$Message.success(\"删除所选用户成功\");\n    }\n  },\n  mounted() {\n    this.getUserDataList();\n  }\n};\n</script>\n\n<style lang=\"less\">\n.user-choose {\n  .clear {\n    font-size: 12px;\n    margin-left: 15px;\n    color: #40a9ff;\n    cursor: pointer;\n  }\n  .collapse {\n    font-size: 12px;\n    margin-top: 15px;\n    width: 500px;\n  }\n  .select-count {\n    font-weight: 600;\n    color: #40a9ff;\n  }\n}\n</style>"]}]}