{"remainingRequest":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dove\\project\\xboot\\xboot-front-master\\src\\views\\my-components\\xboot\\set-password.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\src\\views\\my-components\\xboot\\set-password.vue","mtime":1600218271000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dove\\project\\xboot\\xboot-front-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAic2V0UGFzc3dvcmQiLAogIHByb3BzOiB7CiAgICB2YWx1ZTogU3RyaW5nLAogICAgc2l6ZTogU3RyaW5nLAogICAgcGxhY2Vob2xkZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAi6K+36L6T5YWl5a+G56CB77yM6ZW/5bqm5Li6Ni0yMOS4quWtl+espiIKICAgIH0sCiAgICBkaXNhYmxlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHJlYWRvbmx5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbWF4bGVuZ3RoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjAKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50VmFsdWU6IHRoaXMudmFsdWUsCiAgICAgIHRpcFN0eWxlOiAicGFzc3dvcmQtdGlwLW5vbmUiLAogICAgICBzdHJlbmd0aFZhbHVlOiAwLAogICAgICBwcm9ncmVzc1N0YXR1czogIm5vcm1hbCIsCiAgICAgIHN0cmVuZ3RoOiAi5pegIiwKICAgICAgZ3JhZGU6IDAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja1N0cmVuZ3RoVmFsdWUodikgewogICAgICAvLyDor4TnuqfliLbliKTmlq3lr4bnoIHlvLrluqYg5pyA6auYNQogICAgICBsZXQgZ3JhZGUgPSAwOwogICAgICBpZiAoL1xkLy50ZXN0KHYpKSB7CiAgICAgICAgZ3JhZGUrKzsgLy/mlbDlrZcKICAgICAgfQogICAgICBpZiAoL1thLXpdLy50ZXN0KHYpKSB7CiAgICAgICAgZ3JhZGUrKzsgLy/lsI/lhpkKICAgICAgfQogICAgICBpZiAoL1tBLVpdLy50ZXN0KHYpKSB7CiAgICAgICAgZ3JhZGUrKzsgLy/lpKflhpkKICAgICAgfQogICAgICBpZiAoL1xXLy50ZXN0KHYpKSB7CiAgICAgICAgZ3JhZGUrKzsgLy/nibnmrorlrZfnrKYKICAgICAgfQogICAgICBpZiAodi5sZW5ndGggPj0gMTApIHsKICAgICAgICBncmFkZSsrOwogICAgICB9CiAgICAgIHRoaXMuZ3JhZGUgPSBncmFkZTsKICAgICAgcmV0dXJuIGdyYWRlOwogICAgfSwKICAgIHN0cmVuZ3RoQ2hhbmdlKCkgewogICAgICBpZiAoIXRoaXMuY3VycmVudFZhbHVlKSB7CiAgICAgICAgdGhpcy50aXBTdHlsZSA9ICJwYXNzd29yZC10aXAtbm9uZSI7CiAgICAgICAgdGhpcy5zdHJlbmd0aCA9ICLml6AiOwogICAgICAgIHRoaXMuc3RyZW5ndGhWYWx1ZSA9IDA7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCBncmFkZSA9IHRoaXMuY2hlY2tTdHJlbmd0aFZhbHVlKHRoaXMuY3VycmVudFZhbHVlKTsKICAgICAgaWYgKGdyYWRlIDw9IDEpIHsKICAgICAgICB0aGlzLnByb2dyZXNzU3RhdHVzID0gIndyb25nIjsKICAgICAgICB0aGlzLnRpcFN0eWxlID0gInBhc3N3b3JkLXRpcC13ZWFrIjsKICAgICAgICB0aGlzLnN0cmVuZ3RoID0gIuW8sSI7CiAgICAgICAgdGhpcy5zdHJlbmd0aFZhbHVlID0gMzM7CiAgICAgIH0gZWxzZSBpZiAoZ3JhZGUgPj0gMiAmJiBncmFkZSA8PSA0KSB7CiAgICAgICAgdGhpcy5wcm9ncmVzc1N0YXR1cyA9ICJub3JtYWwiOwogICAgICAgIHRoaXMudGlwU3R5bGUgPSAicGFzc3dvcmQtdGlwLW1pZGRsZSI7CiAgICAgICAgdGhpcy5zdHJlbmd0aCA9ICLkuK0iOwogICAgICAgIHRoaXMuc3RyZW5ndGhWYWx1ZSA9IDY2OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucHJvZ3Jlc3NTdGF0dXMgPSAic3VjY2VzcyI7CiAgICAgICAgdGhpcy50aXBTdHlsZSA9ICJwYXNzd29yZC10aXAtc3Ryb25nIjsKICAgICAgICB0aGlzLnN0cmVuZ3RoID0gIuW8uiI7CiAgICAgICAgdGhpcy5zdHJlbmd0aFZhbHVlID0gMTAwOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlQ2hhbmdlKHYpIHsKICAgICAgdGhpcy5zdHJlbmd0aENoYW5nZSgpOwogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHRoaXMuY3VycmVudFZhbHVlKTsKICAgICAgdGhpcy4kZW1pdCgib24tY2hhbmdlIiwgdGhpcy5jdXJyZW50VmFsdWUsIHRoaXMuZ3JhZGUsIHRoaXMuc3RyZW5ndGgpOwogICAgfSwKICAgIHNldEN1cnJlbnRWYWx1ZSh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgPT09IHRoaXMuY3VycmVudFZhbHVlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdmFsdWU7CiAgICAgIHRoaXMuc3RyZW5ndGhDaGFuZ2UoKTsKICAgICAgdGhpcy4kZW1pdCgib24tY2hhbmdlIiwgdGhpcy5jdXJyZW50VmFsdWUsIHRoaXMuZ3JhZGUsIHRoaXMuc3RyZW5ndGgpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlKHZhbCkgewogICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh2YWwpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["set-password.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"set-password.vue","sourceRoot":"src/views/my-components/xboot","sourcesContent":["<template>\n  <div class=\"set-password\">\n    <Poptip transfer trigger=\"focus\" placement=\"right\" width=\"250\">\n      <Input\n        type=\"password\"\n        password\n        :maxlength=\"maxlength\"\n        v-model=\"currentValue\"\n        @on-change=\"handleChange\"\n        :size=\"size\"\n        :placeholder=\"placeholder\"\n        :disabled=\"disabled\"\n        :readonly=\"readonly\"\n      />\n      <div :class=\"tipStyle\" slot=\"content\">\n        <div class=\"words\">强度 : {{strength}}</div>\n        <Progress\n          :percent=\"strengthValue\"\n          :status=\"progressStatus\"\n          hide-info\n          style=\"margin: 13px 0;\"\n        />\n        <br />请至少输入 6 个字符。请不要使\n        <br />用容易被猜到的密码。\n      </div>\n    </Poptip>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"setPassword\",\n  props: {\n    value: String,\n    size: String,\n    placeholder: {\n      type: String,\n      default: \"请输入密码，长度为6-20个字符\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    maxlength: {\n      type: Number,\n      default: 20\n    }\n  },\n  data() {\n    return {\n      currentValue: this.value,\n      tipStyle: \"password-tip-none\",\n      strengthValue: 0,\n      progressStatus: \"normal\",\n      strength: \"无\",\n      grade: 0\n    };\n  },\n  methods: {\n    checkStrengthValue(v) {\n      // 评级制判断密码强度 最高5\n      let grade = 0;\n      if (/\\d/.test(v)) {\n        grade++; //数字\n      }\n      if (/[a-z]/.test(v)) {\n        grade++; //小写\n      }\n      if (/[A-Z]/.test(v)) {\n        grade++; //大写\n      }\n      if (/\\W/.test(v)) {\n        grade++; //特殊字符\n      }\n      if (v.length >= 10) {\n        grade++;\n      }\n      this.grade = grade;\n      return grade;\n    },\n    strengthChange() {\n      if (!this.currentValue) {\n        this.tipStyle = \"password-tip-none\";\n        this.strength = \"无\";\n        this.strengthValue = 0;\n        return;\n      }\n      let grade = this.checkStrengthValue(this.currentValue);\n      if (grade <= 1) {\n        this.progressStatus = \"wrong\";\n        this.tipStyle = \"password-tip-weak\";\n        this.strength = \"弱\";\n        this.strengthValue = 33;\n      } else if (grade >= 2 && grade <= 4) {\n        this.progressStatus = \"normal\";\n        this.tipStyle = \"password-tip-middle\";\n        this.strength = \"中\";\n        this.strengthValue = 66;\n      } else {\n        this.progressStatus = \"success\";\n        this.tipStyle = \"password-tip-strong\";\n        this.strength = \"强\";\n        this.strengthValue = 100;\n      }\n    },\n    handleChange(v) {\n      this.strengthChange();\n      this.$emit(\"input\", this.currentValue);\n      this.$emit(\"on-change\", this.currentValue, this.grade, this.strength);\n    },\n    setCurrentValue(value) {\n      if (value === this.currentValue) {\n        return;\n      }\n      this.currentValue = value;\n      this.strengthChange();\n      this.$emit(\"on-change\", this.currentValue, this.grade, this.strength);\n    }\n  },\n  watch: {\n    value(val) {\n      this.setCurrentValue(val);\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n.set-password .ivu-poptip,\n.set-password .ivu-poptip-rel {\n  display: block;\n}\n.password-tip-none {\n  padding: 1vh 0;\n}\n\n.password-tip-weak {\n  padding: 1vh 0;\n\n  .words {\n    color: #ed3f14;\n  }\n}\n\n.password-tip-middle {\n  padding: 1vh 0;\n\n  .words {\n    color: #2d8cf0;\n  }\n}\n\n.password-tip-strong {\n  padding: 1vh 0;\n\n  .words {\n    color: #52c41a;\n  }\n}\n</style>\n\n"]}]}